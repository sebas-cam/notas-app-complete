{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sebastian Campos/Desktop/front notas/notas-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Cookies from'js-cookie';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function DeleteNote(_ref){var reload=_ref.reload,id_nota=_ref.id_nota;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notaDeleted=_useState4[0],setNotaDeleted=_useState4[1];var handleSubmit=function handleSubmit(){console.log(id_nota);var key=Cookies.get(\"user_session\");setIsLoading(true);if(id_nota){var myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \"+key);myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({\"id\":id_nota});var requestOptions={method:'DELETE',headers:myHeaders,body:raw,redirect:'follow'};fetch('https://x9d8pa.deta.dev/nota/eliminar',requestOptions).then(function(response){return response.json();}).then(function(data){setIsLoading(false);if(data[\"nota eliminada\"]==true){reload();setNotaDeleted(true);setTimeout(function(){setNotaDeleted(null);},2000);}}).catch(function(error){return console.log(error);});}else{setTimeout(function(){setIsLoading(false);},2000);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"a\",{onClick:function onClick(){handleSubmit();},href:\"#\",className:\"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\",children:[isLoading&&/*#__PURE__*/_jsx(\"svg\",{width:\"25\",height:\"25\",viewBox:\"0 0 58 58\",xmlns:\"http://www.w3.org/2000/svg\",className:\"m-auto\",children:/*#__PURE__*/_jsx(\"g\",{fill:\"none\",fillRule:\"evenodd\",children:/*#__PURE__*/_jsxs(\"g\",{transform:\"translate(2 1)\",stroke:\"#000\",strokeWidth:\"1.5\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"42.601\",cy:\"11.462\",r:\"5\",fillOpacity:\"1\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"1;0;0;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"49.063\",cy:\"27.063\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;1;0;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"42.601\",cy:\"42.663\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;1;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"27\",cy:\"49.125\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;1;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"11.399\",cy:\"42.663\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;1;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"4.938\",cy:\"27.063\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;1;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"11.399\",cy:\"11.462\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;0;1;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"27\",cy:\"5\",r:\"5\",fillOpacity:\"0\",fill:\"#000\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;0;0;1\",calcMode:\"linear\",repeatCount:\"indefinite\"})})]})})}),isLoading==false&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",strokeWidth:\"1.5\",stroke:\"currentColor\",className:\"w-4 h-4 inline-block\\tmr-2.5\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",d:\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\"})}),\"Delete\"]})]})});}export default DeleteNote;","map":{"version":3,"names":["useState","Cookies","DeleteNote","reload","id_nota","isLoading","setIsLoading","notaDeleted","setNotaDeleted","handleSubmit","console","log","key","get","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","json","data","setTimeout","catch","error"],"sources":["C:/Users/Sebastian Campos/Desktop/front notas/notas-app/src/services/serviceDeleteNote.js"],"sourcesContent":["import { useState } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction DeleteNote({reload, id_nota} ) {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [notaDeleted, setNotaDeleted] = useState(false);\r\n\r\n    const handleSubmit=()=>{\r\n\r\n        console.log(id_nota)\r\n\r\n        const key = Cookies.get(\"user_session\")\r\n        setIsLoading(true);        \r\n\r\n        if (id_nota) {\r\n\r\n            var myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + key);\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n            var raw = JSON.stringify({\r\n                \"id\": id_nota            \r\n              });\r\n      \r\n              var requestOptions = {\r\n                  method: 'DELETE',\r\n                  headers: myHeaders,\r\n                  body: raw,\r\n                  redirect: 'follow'\r\n              };\r\n      \r\n              fetch('https://x9d8pa.deta.dev/nota/eliminar',requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    \r\n                  setIsLoading(false);\r\n                    \r\n                  if (data[\"nota eliminada\"] == true) {\r\n                    reload()                    \r\n                    setNotaDeleted(true)               \r\n                    setTimeout(() => {\r\n                        setNotaDeleted(null) \r\n                    }, 2000);       \r\n\r\n                  }\r\n                  \r\n                  \r\n                })\r\n            .catch(error => console.log(error));\r\n\r\n        }else{\r\n\r\n            setTimeout(() => {\r\n                setIsLoading(false);                \r\n            }, 2000);                     \r\n                \r\n        }\r\n    }\r\n\r\n    return(\r\n        \r\n        <>                                   \r\n\r\n                                    \r\n            <a onClick={()=>{handleSubmit()}} href=\"#\" className=\"block px-4 py-2 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white\">\r\n                                        \r\n                {isLoading  &&                \r\n                    <svg width=\"25\" height=\"25\" viewBox=\"0 0 58 58\" xmlns=\"http://www.w3.org/2000/svg\" className='m-auto'>\r\n                    <g fill=\"none\" fillRule=\"evenodd\">\r\n                        <g transform=\"translate(2 1)\" stroke=\"#000\" strokeWidth=\"1.5\">\r\n                            <circle cx=\"42.601\" cy=\"11.462\" r=\"5\" fillOpacity=\"1\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"1;0;0;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"49.063\" cy=\"27.063\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;1;0;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"42.601\" cy=\"42.663\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;1;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"27\" cy=\"49.125\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;1;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"11.399\" cy=\"42.663\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;1;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"4.938\" cy=\"27.063\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;1;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"11.399\" cy=\"11.462\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;0;1;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"27\" cy=\"5\" r=\"5\" fillOpacity=\"0\" fill=\"#000\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;0;0;1\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                        </g>\r\n                    </g>\r\n                    </svg>\r\n                }\r\n\r\n                {isLoading == false &&\r\n                    <p>\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" strokeWidth=\"1.5\" stroke=\"currentColor\" className=\"w-4 h-4 inline-block\tmr-2.5\">\r\n                        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" d=\"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0\" />\r\n                        </svg>\r\n                        Delete\r\n                    </p>            \r\n                }\r\n            \r\n                \r\n\r\n            </a>\r\n        \r\n        </>\r\n    )    \r\n}\r\n\r\nexport default DeleteNote;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}