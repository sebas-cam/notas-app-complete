{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Sebastian Campos/Desktop/front notas/notas-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Sebastian Campos/Desktop/front notas/notas-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sebastian Campos/Desktop/front notas/notas-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import Cookies from'js-cookie';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function ServiMe(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var token,myHeaders,requestOptions;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:token=Cookies.get(\"user_session\");myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \"+token);myHeaders.append(\"Content-Type\",\"application/json\");requestOptions={method:'GET',headers:myHeaders,redirect:'follow'};fetch(\"https://x9d8pa.deta.dev/users/me\",requestOptions).then(function(response){return response.json();}).then(function(result){setUserName(result.username);}).catch(function(error){return console.log('error',error);});case 6:case\"end\":return _context.stop();}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white\",children:userName})});}export default ServiMe;","map":{"version":3,"names":["useEffect","useState","Cookies","ServiMe","userName","setUserName","fetchData","token","get","myHeaders","Headers","append","requestOptions","method","headers","redirect","fetch","then","response","json","result","username","catch","error","console","log"],"sources":["C:/Users/Sebastian Campos/Desktop/front notas/notas-app/src/services/serviceMe.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction ServiMe() {\r\n\r\n    const [userName, setUserName] = useState(\"\")\r\n\r\n    useEffect(()=>{\r\n        const fetchData = async () => { \r\n            const token = Cookies.get(\"user_session\")\r\n            var myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + token);\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n            var requestOptions = {\r\n              method: 'GET',\r\n              headers: myHeaders,\r\n              redirect: 'follow'\r\n            };\r\n\r\n            fetch(\"https://x9d8pa.deta.dev/users/me\", requestOptions)\r\n              .then(response => response.json())\r\n              .then(result => {                                \r\n                setUserName(result.username)              \r\n              })\r\n              .catch(error => console.log('error', error));\r\n        }\r\n        fetchData();\r\n\r\n    }, [])\r\n\r\n    return(\r\n        <>\r\n            <span className=\"text-white\">{userName}</span>\r\n        </>\r\n    )    \r\n}\r\n\r\nexport default ServiMe;"],"mappings":"ubAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAOC,QAAO,KAAM,WAAW,CAAC,gGAEhC,QAASC,QAAO,EAAG,CAEf,cAAgCF,QAAQ,CAAC,EAAE,CAAC,wCAArCG,QAAQ,eAAEC,WAAW,eAE5BL,SAAS,CAAC,UAAI,CACV,GAAMM,UAAS,4FAAG,uKACRC,KAAK,CAAGL,OAAO,CAACM,GAAG,CAAC,cAAc,CAAC,CACrCC,SAAS,CAAG,GAAIC,QAAO,EAAE,CAC7BD,SAAS,CAACE,MAAM,CAAC,eAAe,CAAE,SAAS,CAAGJ,KAAK,CAAC,CACpDE,SAAS,CAACE,MAAM,CAAC,cAAc,CAAE,kBAAkB,CAAC,CAEhDC,cAAc,CAAG,CACnBC,MAAM,CAAE,KAAK,CACbC,OAAO,CAAEL,SAAS,CAClBM,QAAQ,CAAE,QACZ,CAAC,CAEDC,KAAK,CAAC,kCAAkC,CAAEJ,cAAc,CAAC,CACtDK,IAAI,CAAC,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAI,EAAE,GAAC,CACjCF,IAAI,CAAC,SAAAG,MAAM,CAAI,CACdf,WAAW,CAACe,MAAM,CAACC,QAAQ,CAAC,CAC9B,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,KAAK,QAAIC,QAAO,CAACC,GAAG,CAAC,OAAO,CAAEF,KAAK,CAAC,GAAC,CAAC,qDAClD,kBAlBKjB,UAAS,0CAkBd,CACDA,SAAS,EAAE,CAEf,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,sCACI,aAAM,SAAS,CAAC,YAAY,UAAEF,QAAQ,EAAQ,EAC/C,CAEX,CAEA,cAAeD,QAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}