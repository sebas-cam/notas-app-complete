{"ast":null,"code":"import _slicedToArray from\"C:/Users/Sebastian Campos/Desktop/front notas/notas-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import Cookies from'js-cookie';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ServiEditNote(_ref){var values=_ref.values,cerrarModal=_ref.cerrarModal,reload=_ref.reload,reloadModal=_ref.reloadModal,id_nota=_ref.id_nota;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),notaAdded=_useState4[0],setNotaAdded=_useState4[1];var handleSubmit=function handleSubmit(){var key=Cookies.get(\"user_session\");setIsLoading(true);if(values.titleNote&&values.contentNote!=\"\"){var myHeaders=new Headers();myHeaders.append(\"Authorization\",\"Bearer \"+key);myHeaders.append(\"Content-Type\",\"application/json\");var raw=JSON.stringify({\"id\":id_nota,\"note_title\":values.titleNote,\"note_content\":values.contentNote});var requestOptions={method:'PUT',headers:myHeaders,body:raw,redirect:'follow'};fetch('https://x9d8pa.deta.dev/nota/editar',requestOptions).then(function(response){return response.json();}).then(function(data){setIsLoading(false);if(data[\"nota editada\"]==true){reload();reloadModal();cerrarModal();setNotaAdded(true);setTimeout(function(){setNotaAdded(null);},2000);}}).catch(function(error){return console.log(error);});}else{setTimeout(function(){setIsLoading(false);},2000);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){handleSubmit();},className:\"block m-auto py-2 px-4 bg-[#d19019] text-white font-semibold rounded-lg shadow-md hover:bg-[#ae7308] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75\",children:[isLoading&&/*#__PURE__*/_jsx(\"svg\",{width:\"25\",height:\"25\",viewBox:\"0 0 58 58\",xmlns:\"http://www.w3.org/2000/svg\",className:\"m-auto\",children:/*#__PURE__*/_jsx(\"g\",{fill:\"none\",fillRule:\"evenodd\",children:/*#__PURE__*/_jsxs(\"g\",{transform:\"translate(2 1)\",stroke:\"#FFF\",strokeWidth:\"1.5\",children:[/*#__PURE__*/_jsx(\"circle\",{cx:\"42.601\",cy:\"11.462\",r:\"5\",fillOpacity:\"1\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"1;0;0;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"49.063\",cy:\"27.063\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;1;0;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"42.601\",cy:\"42.663\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;1;0;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"27\",cy:\"49.125\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;1;0;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"11.399\",cy:\"42.663\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;1;0;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"4.938\",cy:\"27.063\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;1;0;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"11.399\",cy:\"11.462\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;0;1;0\",calcMode:\"linear\",repeatCount:\"indefinite\"})}),/*#__PURE__*/_jsx(\"circle\",{cx:\"27\",cy:\"5\",r:\"5\",fillOpacity:\"0\",fill:\"#fff\",children:/*#__PURE__*/_jsx(\"animate\",{attributeName:\"fill-opacity\",begin:\"0s\",dur:\"1.3s\",values:\"0;0;0;0;0;0;0;1\",calcMode:\"linear\",repeatCount:\"indefinite\"})})]})})}),isLoading==false&&/*#__PURE__*/_jsx(\"p\",{children:\"Edit Note\"}),notaAdded&&/*#__PURE__*/_jsx(\"p\",{className:\"text-lime-600 text-center pt-4\",children:\"Nota Editada correctamente\"})]})});}export default ServiEditNote;","map":{"version":3,"names":["useState","Cookies","ServiEditNote","values","cerrarModal","reload","reloadModal","id_nota","isLoading","setIsLoading","notaAdded","setNotaAdded","handleSubmit","key","get","titleNote","contentNote","myHeaders","Headers","append","raw","JSON","stringify","requestOptions","method","headers","body","redirect","fetch","then","response","json","data","setTimeout","catch","error","console","log"],"sources":["C:/Users/Sebastian Campos/Desktop/front notas/notas-app/src/services/serviceEditNote.js"],"sourcesContent":["import { useState } from 'react';\r\nimport Cookies from 'js-cookie';\r\n\r\nfunction ServiEditNote({ values, cerrarModal, reload, reloadModal, id_nota }) {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [notaAdded, setNotaAdded] = useState(false);\r\n\r\n    const handleSubmit=()=>{\r\n\r\n        const key = Cookies.get(\"user_session\")\r\n        setIsLoading(true);        \r\n\r\n        if (values.titleNote && values.contentNote  != \"\") {\r\n\r\n            var myHeaders = new Headers();\r\n            myHeaders.append(\"Authorization\", \"Bearer \" + key);\r\n            myHeaders.append(\"Content-Type\", \"application/json\");\r\n\r\n            var raw = JSON.stringify({\r\n                \"id\": id_nota,\r\n                \"note_title\": values.titleNote,\r\n                \"note_content\": values.contentNote \r\n              });\r\n      \r\n              var requestOptions = {\r\n                  method: 'PUT',\r\n                  headers: myHeaders,\r\n                  body: raw,\r\n                  redirect: 'follow'\r\n              };\r\n      \r\n              fetch('https://x9d8pa.deta.dev/nota/editar',requestOptions)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    \r\n                  setIsLoading(false);\r\n                    \r\n                  if (data[\"nota editada\"] == true) {\r\n                    reload()\r\n                    reloadModal()\r\n                    cerrarModal()\r\n                    setNotaAdded(true)               \r\n                    setTimeout(() => {\r\n                        setNotaAdded(null) \r\n                    }, 2000);       \r\n\r\n                  }\r\n                  \r\n                  \r\n                })\r\n            .catch(error => console.log(error));\r\n\r\n        }else{\r\n\r\n            setTimeout(() => {\r\n                setIsLoading(false);                \r\n            }, 2000);                     \r\n                \r\n        }\r\n    }\r\n\r\n    return(\r\n        <>\r\n        <button onClick={()=>{handleSubmit()}} className=\"block m-auto py-2 px-4 bg-[#d19019] text-white font-semibold rounded-lg shadow-md hover:bg-[#ae7308] focus:outline-none focus:ring-2 focus:ring-blue-400 focus:ring-opacity-75\">\r\n            {isLoading  &&                \r\n                <svg width=\"25\" height=\"25\" viewBox=\"0 0 58 58\" xmlns=\"http://www.w3.org/2000/svg\" className='m-auto'>\r\n                    <g fill=\"none\" fillRule=\"evenodd\">\r\n                        <g transform=\"translate(2 1)\" stroke=\"#FFF\" strokeWidth=\"1.5\">\r\n                            <circle cx=\"42.601\" cy=\"11.462\" r=\"5\" fillOpacity=\"1\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"1;0;0;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"49.063\" cy=\"27.063\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;1;0;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"42.601\" cy=\"42.663\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;1;0;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"27\" cy=\"49.125\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;1;0;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"11.399\" cy=\"42.663\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;1;0;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"4.938\" cy=\"27.063\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;1;0;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"11.399\" cy=\"11.462\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;0;1;0\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                            <circle cx=\"27\" cy=\"5\" r=\"5\" fillOpacity=\"0\" fill=\"#fff\">\r\n                                <animate attributeName=\"fill-opacity\"\r\n                                     begin=\"0s\" dur=\"1.3s\"\r\n                                     values=\"0;0;0;0;0;0;0;1\" calcMode=\"linear\"\r\n                                     repeatCount=\"indefinite\" />\r\n                            </circle>\r\n                        </g>\r\n                    </g>\r\n                </svg>\r\n            }\r\n\r\n            {isLoading == false &&\r\n                <p>Edit Note</p>            \r\n            }\r\n            \r\n            {notaAdded &&\r\n            <p className='text-lime-600 text-center pt-4'>Nota Editada correctamente</p>\r\n            }\r\n\r\n        </button>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default ServiEditNote;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}